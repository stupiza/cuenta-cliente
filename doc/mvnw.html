<!DOCTYPE html>
<html>
<head>
  <title>mvnw</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "";
    var thisFile = "mvnw";
    var defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h2">
        <a href="#unless-required-by-applicable-law-or-agreed-to-in-writing-software-distributed-under-the-license-is-distributed-on-an-as-is-basis-without-warranties-or-conditions-of-any-kind-either-express-or-implied.see-the-license-for-the-specific-language-governing-permissions-and-limitations-under-the-license">Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&amp;quot;AS IS&amp;quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.</a>
      </div>

      <div class="heading h2">
        <a href="#required-env-vars">Required ENV vars:</a>
      </div>

      <div class="heading h2">
        <a href="#optional-env-vars">Optional ENV vars</a>
      </div>

      <div class="heading h2">
        <a href="#m2_home-location-of-maven2s-installed-home-dir-maven_opts-parameters-passed-to-the-java-vm-when-running-maven-e.g.to-debug-maven-itself-use-set-maven_opts-xdebug-xrunjdwp-transportdt_socketserverysuspendyaddress8000-maven_skip_rc-flag-to-disable-loading-of-mavenrc-files">M2_HOME - location of maven2&#39;s installed home dir
MAVEN_OPTS - parameters passed to the Java VM when running Maven
e.g. to debug Maven itself, use
set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
MAVEN_SKIP_RC - flag to disable loading of mavenrc files</a>
      </div>

      <div class="heading h1">
        <a href="#resolve-links-dollar0-may-be-a-link-to-mavens-home">resolve links - $0 may be a link to maven&#39;s home</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>mvnw</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-meta">#!/bin/sh
</span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <hr>
<p>Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
&quot;License&quot;); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at</p>
<p>https://www.apache.org/licenses/LICENSE-2.0</p>
<div class="pilwrap" id="unless-required-by-applicable-law-or-agreed-to-in-writing-software-distributed-under-the-license-is-distributed-on-an-as-is-basis-without-warranties-or-conditions-of-any-kind-either-express-or-implied.see-the-license-for-the-specific-language-governing-permissions-and-limitations-under-the-license">
  <h2>
    <a href="#unless-required-by-applicable-law-or-agreed-to-in-writing-software-distributed-under-the-license-is-distributed-on-an-as-is-basis-without-warranties-or-conditions-of-any-kind-either-express-or-implied.see-the-license-for-the-specific-language-governing-permissions-and-limitations-under-the-license" name="unless-required-by-applicable-law-or-agreed-to-in-writing-software-distributed-under-the-license-is-distributed-on-an-as-is-basis-without-warranties-or-conditions-of-any-kind-either-express-or-implied.see-the-license-for-the-specific-language-governing-permissions-and-limitations-under-the-license" class="pilcrow"></a>
Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="sh">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <hr>
<p>Maven Start Up Batch script</p>
<div class="pilwrap" id="required-env-vars">
  <h2>
    <a href="#required-env-vars" name="required-env-vars" class="pilcrow"></a>
Required ENV vars:
  </h2>
</div>
<p>JAVA_HOME - location of a JDK home dir</p>
<div class="pilwrap" id="optional-env-vars">
  <h2>
    <a href="#optional-env-vars" name="optional-env-vars" class="pilcrow"></a>
Optional ENV vars
  </h2>
</div>
<div class="pilwrap" id="m2_home-location-of-maven2s-installed-home-dir-maven_opts-parameters-passed-to-the-java-vm-when-running-maven-e.g.to-debug-maven-itself-use-set-maven_opts-xdebug-xrunjdwp-transportdt_socketserverysuspendyaddress8000-maven_skip_rc-flag-to-disable-loading-of-mavenrc-files">
  <h2>
    <a href="#m2_home-location-of-maven2s-installed-home-dir-maven_opts-parameters-passed-to-the-java-vm-when-running-maven-e.g.to-debug-maven-itself-use-set-maven_opts-xdebug-xrunjdwp-transportdt_socketserverysuspendyaddress8000-maven_skip_rc-flag-to-disable-loading-of-mavenrc-files" name="m2_home-location-of-maven2s-installed-home-dir-maven_opts-parameters-passed-to-the-java-vm-when-running-maven-e.g.to-debug-maven-itself-use-set-maven_opts-xdebug-xrunjdwp-transportdt_socketserverysuspendyaddress8000-maven_skip_rc-flag-to-disable-loading-of-mavenrc-files" class="pilcrow"></a>
M2_HOME - location of maven2's installed home dir
MAVEN_OPTS - parameters passed to the Java VM when running Maven
e.g. to debug Maven itself, use
set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
MAVEN_SKIP_RC - flag to disable loading of mavenrc files
  </h2>
</div>

        </td>
        <td class="code highlight">
          <pre class="sh">
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$MAVEN_SKIP_RC</span>"</span> ] ; <span class="hljs-keyword">then</span>

  <span class="hljs-keyword">if</span> [ -f /usr/<span class="hljs-built_in">local</span>/etc/mavenrc ] ; <span class="hljs-keyword">then</span>
    . /usr/<span class="hljs-built_in">local</span>/etc/mavenrc
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ -f /etc/mavenrc ] ; <span class="hljs-keyword">then</span>
    . /etc/mavenrc
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.mavenrc"</span> ] ; <span class="hljs-keyword">then</span>
    . <span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.mavenrc"</span>
  <span class="hljs-keyword">fi</span>

<span class="hljs-keyword">fi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>OS specific support.  $var <em>must</em> be set to either true or false.</p>

        </td>
        <td class="code highlight">
          <pre class="sh">cygwin=<span class="hljs-literal">false</span>;
darwin=<span class="hljs-literal">false</span>;
mingw=<span class="hljs-literal">false</span>
<span class="hljs-keyword">case</span> <span class="hljs-string">"`uname`"</span> <span class="hljs-keyword">in</span>
  CYGWIN*) cygwin=<span class="hljs-literal">true</span> ;;
  MINGW*) mingw=<span class="hljs-literal">true</span>;;
  Darwin*) darwin=<span class="hljs-literal">true</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home
See https://developer.apple.com/library/mac/qa/qa1170/_index.html</p>

        </td>
        <td class="code highlight">
          <pre class="sh">    <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-keyword">if</span> [ -x <span class="hljs-string">"/usr/libexec/java_home"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">export</span> JAVA_HOME=<span class="hljs-string">"`/usr/libexec/java_home`"</span>
      <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">export</span> JAVA_HOME=<span class="hljs-string">"/Library/Java/Home"</span>
      <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">fi</span>
    ;;
<span class="hljs-keyword">esac</span>

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ] ; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> [ -r /etc/gentoo-release ] ; <span class="hljs-keyword">then</span>
    JAVA_HOME=`java-config --jre-home`
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span> ] ; <span class="hljs-keyword">then</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap" id="resolve-links-dollar0-may-be-a-link-to-mavens-home">
  <h1>
    <a href="#resolve-links-dollar0-may-be-a-link-to-mavens-home" name="resolve-links-dollar0-may-be-a-link-to-mavens-home" class="pilcrow"></a>
resolve links - $0 may be a link to maven's home
  </h1>
</div>

        </td>
        <td class="code highlight">
          <pre class="sh">  PRG=<span class="hljs-string">"<span class="hljs-variable">$0</span>"</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>need this for relative symlinks</p>

        </td>
        <td class="code highlight">
          <pre class="sh">  <span class="hljs-keyword">while</span> [ -h <span class="hljs-string">"<span class="hljs-variable">$PRG</span>"</span> ] ; <span class="hljs-keyword">do</span>
    ls=`ls -ld <span class="hljs-string">"<span class="hljs-variable">$PRG</span>"</span>`
    link=`expr <span class="hljs-string">"<span class="hljs-variable">$ls</span>"</span> : <span class="hljs-string">'.*-&gt; \(.*\)$'</span>`
    <span class="hljs-keyword">if</span> expr <span class="hljs-string">"<span class="hljs-variable">$link</span>"</span> : <span class="hljs-string">'/.*'</span> &gt; /dev/null; <span class="hljs-keyword">then</span>
      PRG=<span class="hljs-string">"<span class="hljs-variable">$link</span>"</span>
    <span class="hljs-keyword">else</span>
      PRG=<span class="hljs-string">"`dirname "</span><span class="hljs-variable">$PRG</span><span class="hljs-string">"`/<span class="hljs-variable">$link</span>"</span>
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">done</span>

  saveddir=`<span class="hljs-built_in">pwd</span>`

  M2_HOME=`dirname <span class="hljs-string">"<span class="hljs-variable">$PRG</span>"</span>`/..

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>make it fully qualified</p>

        </td>
        <td class="code highlight">
          <pre class="sh">  M2_HOME=`<span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span> &amp;&amp; <span class="hljs-built_in">pwd</span>`

  <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$saveddir</span>"</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>echo Using m2 at $M2_HOME</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-keyword">fi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>For Cygwin, ensure paths are in UNIX format before anything is touched</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-keyword">if</span> <span class="hljs-variable">$cygwin</span> ; <span class="hljs-keyword">then</span>
  [ -n <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span> ] &amp;&amp;
    M2_HOME=`cygpath --unix <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span>`
  [ -n <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ] &amp;&amp;
    JAVA_HOME=`cygpath --unix <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span>`
  [ -n <span class="hljs-string">"<span class="hljs-variable">$CLASSPATH</span>"</span> ] &amp;&amp;
    CLASSPATH=`cygpath --path --unix <span class="hljs-string">"<span class="hljs-variable">$CLASSPATH</span>"</span>`
<span class="hljs-keyword">fi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>For Mingw, ensure paths are in UNIX format before anything is touched</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-keyword">if</span> <span class="hljs-variable">$mingw</span> ; <span class="hljs-keyword">then</span>
  [ -n <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span> ] &amp;&amp;
    M2_HOME=<span class="hljs-string">"`(cd "</span><span class="hljs-variable">$M2_HOME</span><span class="hljs-string">"; pwd)`"</span>
  [ -n <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ] &amp;&amp;
    JAVA_HOME=<span class="hljs-string">"`(cd "</span><span class="hljs-variable">$JAVA_HOME</span><span class="hljs-string">"; pwd)`"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ]; <span class="hljs-keyword">then</span>
  javaExecutable=<span class="hljs-string">"`which javac`"</span>
  <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$javaExecutable</span>"</span> ] &amp;&amp; ! [ <span class="hljs-string">"`expr \"<span class="hljs-variable">$javaExecutable</span>\" : '\([^ ]*\)'`"</span> = <span class="hljs-string">"no"</span> ]; <span class="hljs-keyword">then</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>readlink(1) is not available as standard on Solaris 10.</p>

        </td>
        <td class="code highlight">
          <pre class="sh">    readLink=`<span class="hljs-built_in">which</span> readlink`
    <span class="hljs-keyword">if</span> [ ! `expr <span class="hljs-string">"<span class="hljs-variable">$readLink</span>"</span> : <span class="hljs-string">'\([^ ]*\)'</span>` = <span class="hljs-string">"no"</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-keyword">if</span> <span class="hljs-variable">$darwin</span> ; <span class="hljs-keyword">then</span>
        javaHome=<span class="hljs-string">"`dirname \"<span class="hljs-variable">$javaExecutable</span>\"`"</span>
        javaExecutable=<span class="hljs-string">"`cd \"<span class="hljs-variable">$javaHome</span>\" &amp;&amp; pwd -P`/javac"</span>
      <span class="hljs-keyword">else</span>
        javaExecutable=<span class="hljs-string">"`readlink -f \"<span class="hljs-variable">$javaExecutable</span>\"`"</span>
      <span class="hljs-keyword">fi</span>
      javaHome=<span class="hljs-string">"`dirname \"<span class="hljs-variable">$javaExecutable</span>\"`"</span>
      javaHome=`expr <span class="hljs-string">"<span class="hljs-variable">$javaHome</span>"</span> : <span class="hljs-string">'\(.*\)/bin'</span>`
      JAVA_HOME=<span class="hljs-string">"<span class="hljs-variable">$javaHome</span>"</span>
      <span class="hljs-built_in">export</span> JAVA_HOME
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$JAVACMD</span>"</span> ] ; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span>  ] ; <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">if</span> [ -x <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/jre/sh/java"</span> ] ; <span class="hljs-keyword">then</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>IBM's JDK on AIX uses strange locations for the executables</p>

        </td>
        <td class="code highlight">
          <pre class="sh">      JAVACMD=<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/jre/sh/java"</span>
    <span class="hljs-keyword">else</span>
      JAVACMD=<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/bin/java"</span>
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">else</span>
    JAVACMD=<span class="hljs-string">"`\\unset -f command; \\command -v java`"</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ ! -x <span class="hljs-string">"<span class="hljs-variable">$JAVACMD</span>"</span> ] ; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Error: JAVA_HOME is not defined correctly."</span> &gt;&amp;2
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"  We cannot execute <span class="hljs-variable">$JAVACMD</span>"</span> &gt;&amp;2
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ] ; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Warning: JAVA_HOME environment variable is not set."</span>
<span class="hljs-keyword">fi</span>

CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>traverses directory structure from process work directory to filesystem root
first directory with .mvn subdirectory is considered project base directory</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-function"><span class="hljs-title">find_maven_basedir</span></span>() {

  <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]
  <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Path not specified to find_maven_basedir"</span>
    <span class="hljs-built_in">return</span> 1
  <span class="hljs-keyword">fi</span>

  basedir=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
  wdir=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
  <span class="hljs-keyword">while</span> [ <span class="hljs-string">"<span class="hljs-variable">$wdir</span>"</span> != <span class="hljs-string">'/'</span> ] ; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> [ -d <span class="hljs-string">"<span class="hljs-variable">$wdir</span>"</span>/.mvn ] ; <span class="hljs-keyword">then</span>
      basedir=<span class="hljs-variable">$wdir</span>
      <span class="hljs-built_in">break</span>
    <span class="hljs-keyword">fi</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>workaround for JBEAP-8937 (on Solaris 10/Sparc)</p>

        </td>
        <td class="code highlight">
          <pre class="sh">    <span class="hljs-keyword">if</span> [ -d <span class="hljs-string">"<span class="hljs-variable">${wdir}</span>"</span> ]; <span class="hljs-keyword">then</span>
      wdir=`<span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$wdir</span>/.."</span>; <span class="hljs-built_in">pwd</span>`
    <span class="hljs-keyword">fi</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>end of workaround</p>

        </td>
        <td class="code highlight">
          <pre class="sh">  <span class="hljs-keyword">done</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${basedir}</span>"</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>concatenates all lines of a file</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-function"><span class="hljs-title">concat_lines</span></span>() {
  <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$(tr -s '\n' ' ' &lt; "$1")</span>"</span>
  <span class="hljs-keyword">fi</span>
}

BASE_DIR=`find_maven_basedir <span class="hljs-string">"<span class="hljs-variable">$(pwd)</span>"</span>`
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>"</span> ]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">exit</span> 1;
<span class="hljs-keyword">fi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>#########################################################################################
Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
This allows using the maven wrapper in projects that prohibit checking in binary data.
#########################################################################################</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-keyword">if</span> [ -r <span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/maven-wrapper.jar"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found .mvn/wrapper/maven-wrapper.jar"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"Couldn't find .mvn/wrapper/maven-wrapper.jar, downloading it ..."</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$MVNW_REPOURL</span>"</span> ]; <span class="hljs-keyword">then</span>
      jarUrl=<span class="hljs-string">"<span class="hljs-variable">$MVNW_REPOURL</span>/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"</span>
    <span class="hljs-keyword">else</span>
      jarUrl=<span class="hljs-string">"https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.1.0/maven-wrapper-3.1.0.jar"</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">while</span> IFS=<span class="hljs-string">"="</span> <span class="hljs-built_in">read</span> key value; <span class="hljs-keyword">do</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$key</span>"</span> <span class="hljs-keyword">in</span> (wrapperUrl) jarUrl=<span class="hljs-string">"<span class="hljs-variable">$value</span>"</span>; <span class="hljs-built_in">break</span> ;;
      <span class="hljs-keyword">esac</span>
    <span class="hljs-keyword">done</span> &lt; <span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/maven-wrapper.properties"</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">"Downloading from: <span class="hljs-variable">$jarUrl</span>"</span>
    <span class="hljs-keyword">fi</span>
    wrapperJarPath=<span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/maven-wrapper.jar"</span>
    <span class="hljs-keyword">if</span> <span class="hljs-variable">$cygwin</span>; <span class="hljs-keyword">then</span>
      wrapperJarPath=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span>`
    <span class="hljs-keyword">fi</span>

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v wget &gt; /dev/null; <span class="hljs-keyword">then</span>
        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
          <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found wget ... using wget"</span>
        <span class="hljs-keyword">fi</span>
        <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$MVNW_USERNAME</span>"</span> ] || [ -z <span class="hljs-string">"<span class="hljs-variable">$MVNW_PASSWORD</span>"</span> ]; <span class="hljs-keyword">then</span>
            wget <span class="hljs-string">"<span class="hljs-variable">$jarUrl</span>"</span> -O <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span> || rm -f <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span>
        <span class="hljs-keyword">else</span>
            wget --http-user=<span class="hljs-variable">$MVNW_USERNAME</span> --http-password=<span class="hljs-variable">$MVNW_PASSWORD</span> <span class="hljs-string">"<span class="hljs-variable">$jarUrl</span>"</span> -O <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span> || rm -f <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span>
        <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">command</span> -v curl &gt; /dev/null; <span class="hljs-keyword">then</span>
        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
          <span class="hljs-built_in">echo</span> <span class="hljs-string">"Found curl ... using curl"</span>
        <span class="hljs-keyword">fi</span>
        <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$MVNW_USERNAME</span>"</span> ] || [ -z <span class="hljs-string">"<span class="hljs-variable">$MVNW_PASSWORD</span>"</span> ]; <span class="hljs-keyword">then</span>
            curl -o <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$jarUrl</span>"</span> -f
        <span class="hljs-keyword">else</span>
            curl --user <span class="hljs-variable">$MVNW_USERNAME</span>:<span class="hljs-variable">$MVNW_PASSWORD</span> -o <span class="hljs-string">"<span class="hljs-variable">$wrapperJarPath</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$jarUrl</span>"</span> -f
        <span class="hljs-keyword">fi</span>

    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
          <span class="hljs-built_in">echo</span> <span class="hljs-string">"Falling back to using Java to download"</span>
        <span class="hljs-keyword">fi</span>
        javaClass=<span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/MavenWrapperDownloader.java"</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>For Cygwin, switch paths to Windows format before running javac</p>

        </td>
        <td class="code highlight">
          <pre class="sh">        <span class="hljs-keyword">if</span> <span class="hljs-variable">$cygwin</span>; <span class="hljs-keyword">then</span>
          javaClass=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$javaClass</span>"</span>`
        <span class="hljs-keyword">fi</span>
        <span class="hljs-keyword">if</span> [ -e <span class="hljs-string">"<span class="hljs-variable">$javaClass</span>"</span> ]; <span class="hljs-keyword">then</span>
            <span class="hljs-keyword">if</span> [ ! -e <span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/MavenWrapperDownloader.class"</span> ]; <span class="hljs-keyword">then</span>
                <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
                  <span class="hljs-built_in">echo</span> <span class="hljs-string">" - Compiling MavenWrapperDownloader.java ..."</span>
                <span class="hljs-keyword">fi</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Compiling the Java class</p>

        </td>
        <td class="code highlight">
          <pre class="sh">                (<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/bin/javac"</span> <span class="hljs-string">"<span class="hljs-variable">$javaClass</span>"</span>)
            <span class="hljs-keyword">fi</span>
            <span class="hljs-keyword">if</span> [ -e <span class="hljs-string">"<span class="hljs-variable">$BASE_DIR</span>/.mvn/wrapper/MavenWrapperDownloader.class"</span> ]; <span class="hljs-keyword">then</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>Running the downloader</p>

        </td>
        <td class="code highlight">
          <pre class="sh">                <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
                  <span class="hljs-built_in">echo</span> <span class="hljs-string">" - Running MavenWrapperDownloader.java ..."</span>
                <span class="hljs-keyword">fi</span>
                (<span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>/bin/java"</span> -cp .mvn/wrapper MavenWrapperDownloader <span class="hljs-string">"<span class="hljs-variable">$MAVEN_PROJECTBASEDIR</span>"</span>)
            <span class="hljs-keyword">fi</span>
        <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>#########################################################################################
End of extension
#########################################################################################</p>

        </td>
        <td class="code highlight">
          <pre class="sh">
<span class="hljs-built_in">export</span> MAVEN_PROJECTBASEDIR=<span class="hljs-variable">${MAVEN_BASEDIR:-"$BASE_DIR"}</span>
<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$MVNW_VERBOSE</span>"</span> = <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-variable">$MAVEN_PROJECTBASEDIR</span>
<span class="hljs-keyword">fi</span>
MAVEN_OPTS=<span class="hljs-string">"<span class="hljs-variable">$(concat_lines "$MAVEN_PROJECTBASEDIR/.mvn/jvm.config")</span> <span class="hljs-variable">$MAVEN_OPTS</span>"</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>For Cygwin, switch paths to Windows format before running java</p>

        </td>
        <td class="code highlight">
          <pre class="sh"><span class="hljs-keyword">if</span> <span class="hljs-variable">$cygwin</span>; <span class="hljs-keyword">then</span>
  [ -n <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span> ] &amp;&amp;
    M2_HOME=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$M2_HOME</span>"</span>`
  [ -n <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span> ] &amp;&amp;
    JAVA_HOME=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span>`
  [ -n <span class="hljs-string">"<span class="hljs-variable">$CLASSPATH</span>"</span> ] &amp;&amp;
    CLASSPATH=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$CLASSPATH</span>"</span>`
  [ -n <span class="hljs-string">"<span class="hljs-variable">$MAVEN_PROJECTBASEDIR</span>"</span> ] &amp;&amp;
    MAVEN_PROJECTBASEDIR=`cygpath --path --windows <span class="hljs-string">"<span class="hljs-variable">$MAVEN_PROJECTBASEDIR</span>"</span>`
<span class="hljs-keyword">fi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Provide a &quot;standardized&quot; way to retrieve the CLI args that will
work with both Windows and non-Windows executions.</p>

        </td>
        <td class="code highlight">
          <pre class="sh">MAVEN_CMD_LINE_ARGS=<span class="hljs-string">"<span class="hljs-variable">$MAVEN_CONFIG</span> <span class="hljs-variable">$@</span>"</span>
<span class="hljs-built_in">export</span> MAVEN_CMD_LINE_ARGS

WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain

<span class="hljs-built_in">exec</span> <span class="hljs-string">"<span class="hljs-variable">$JAVACMD</span>"</span> \
  <span class="hljs-variable">$MAVEN_OPTS</span> \
  <span class="hljs-variable">$MAVEN_DEBUG_OPTS</span> \
  -classpath <span class="hljs-string">"<span class="hljs-variable">$MAVEN_PROJECTBASEDIR</span>/.mvn/wrapper/maven-wrapper.jar"</span> \
  <span class="hljs-string">"-Dmaven.home=<span class="hljs-variable">${M2_HOME}</span>"</span> \
  <span class="hljs-string">"-Dmaven.multiModuleProjectDirectory=<span class="hljs-variable">${MAVEN_PROJECTBASEDIR}</span>"</span> \
  <span class="hljs-variable">${WRAPPER_LAUNCHER}</span> <span class="hljs-variable">$MAVEN_CONFIG</span> <span class="hljs-string">"<span class="hljs-variable">$@</span>"</span>

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
